/**
 * @author slesh
 */

module.exports = (function (guid) {
    var listeners = Object.create(null);
    return {
        dispatch: function (payload) {
            for (var id in listeners) {
                listeners[id](payload);
            }
        },
        register: function (listener) {
            listeners[guid.create().value] = listener;
        }
    }
})(require("guid"));

